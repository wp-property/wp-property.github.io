<aside class="sidebar col-md-3">

  <div class="logo-box">
    <img src="{{ page.image }}" alt="{{ page.title }}"/>
  </div>

  {% for themes_list in site.data.apps.themes %}

    {% if page.module_slug == themes_list[0] %}
    {% for pages_list in themes_list[1] %}
      <h2>{{ pages_list[0] }}</h2>
      <ul>
        {% for theme_item in pages_list[1] %}
          {% if theme_item.url %}
            {% assign link = theme_item %}
          {% else %}
            {% for doc in site.pages %}
              {% if doc.path == theme_item %}
                {% assign link = doc %}
                {% break %}
              {% endif %}
            {% endfor %}
          {% endif %}

          {% if page.url == link.url %}
            {% assign classes = "active" %}
          {% else %}
            {% assign classes = "" %}
          {% endif %}

          <li><a  class="{{classes}}" href="{{ link.url }}">{{ link.sidebar_title }}</a></li>
        {% endfor %}
      </ul>
      {% endfor %}
    {% endif %}
  {% endfor %}

  <!--<div class="product-data">
    <a href="{{ page.repo_url }}" class="get-repo-button">Go to <span>{{ page.module }}</span> repository</a>
  </div>-->

  <script>
    (function() {
      var cx = '008185832867387337881:a1_xnj8hcv0';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
    })();
  </script>
  <gcse:search></gcse:search>

</aside>
